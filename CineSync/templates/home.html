{% extends 'base.html' %}
{% load static %}


{% block content %}
<!DOCTYPE html>
<html lang="es-ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{% static 'css/estilo_home.css' %}">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
      $(document).ready(function () {
        // Escucha el evento de clic en el bot칩n de avanzar de la columna3
        $(".columna3 .carousel-control-next").on("click", function () {
          // Avanza los carruseles en la columna3, columna4 y columna5
          $("#Carrusel1, #Carrusel2, #Carrusel3, #Carrusel4, #Carrusel5, #Carrusel6, #Carrusel7").carousel("next");
        });

        // Escucha el evento de clic en el bot칩n de retroceder de la columna3
        $(".columna3 .carousel-control-prev").on("click", function () {
          // Retrocede los carruseles en la columna3, columna4 y columna5
          $("#Carrusel1, #Carrusel2, #Carrusel3, #Carrusel4, #Carrusel5, #Carrusel6, #Carrusel7").carousel("prev");
        });
      });
    </script>

</head>
<body>

    <!-- /* !_--__--__--__--__--__--__--__--__--_Start Grid _--__--__--__--__--__--__--__--__--__--_ */ -->
    <section class="box-section">
          <header class="box-grid">   
              <div class="search-box">
                  <div class="container-fluid">
                    <form class="d-flex" role="search">
                      <input class="form-control me-2" type="search" placeholder="Buscar游댌..." aria-label="Search">
                      <button class="Button-search" type="submit" style="font-size: 25px;"><i class="fa-solid fa-magnifying-glass icon-search" ></i></button>
                    </form>
                  </div>
              </div>
            {% if user.is_authenticated %}
              <div class="profile-grid1"> <!--Este sirve para cuando el usuario est치 logueado-->
                <div class="image-profile">
                  <img src="{% static 'img/milei.png' %}" alt="Foto de perfil">
                </div>
                <div class="text-bienvenida">
                  <p>Bienvenido/a<strong>游븰</strong></p>
                  <p class="name-usuario">Perez, El칤as Leonel</p>
                </div>
                <div class="profile-icons">
                  <a href="#"><i class="fa-solid fa-user" style="color: #000000;"></i></a>
                <a href="#"><i class="fa-solid fa-gear" style="color: #000000;"></i></a>
                <a href="#"><i class="fa-solid fa-arrow-right-from-bracket" style="color: #000000;"></i></a>
                
                </div>
              </div>
            {% endif %}
          {% if user.is_authenticated %}
            <div class="profile-grid1">
              a
            </div>
          {% else %}
            <div class="profile-grid2">
              b
            </div>
          {% endif %}

            <!-- !Carrusel que controla los dem치s carruseles -->
            <div class="columna3">
              <div id="Carrusel1" class="carousel slide" data-bs-touch="false">
                <div class="carousel-inner">
                  <div class="carousel-item active c-item">
                    <img src="/static/img/Fondo.jpg" class="d-block w-100 c-img" alt="...">
                  </div>
                  <div class="carousel-item c-item">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                  <div class="carousel-item c-item">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#Carrusel1" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#Carrusel1" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>

            <!-- !Carrusel pelicula top 3 -->
            <div class="columna4">
              <div id="Carrusel2" class="carousel slide" data-bs-touch="false">
                <div class="carousel-inner">
                  <div class="carousel-item active c-item2">
                    <img src="{{ peliculas.2.imagenes_adicionales.0 }}" class="d-block w-100 c-img" alt="...">
                  </div>
                  <div class="carousel-item c-item2">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                  <div class="carousel-item c-item2">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                </div>
              </div>
            </div>

            <!-- !Carrusel pelicula top 5 -->

            <div class="columna5">
              <div id="Carrusel3" class="carousel slide" data-bs-touch="false">
                <div class="carousel-inner">
                  <div class="carousel-item active c-item">
                    <img src="{{ peliculas.4.imagenes_adicionales.0 }}" class="d-block w-100 c-img" alt="...">
                  </div>
                  <div class="carousel-item c-item">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                  <div class="carousel-item c-item">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                </div>
              </div>
            </div>

            <!-- !Carrusel pelicula top 4 -->

            <div class="columna6">
              <div id="Carrusel4" class="carousel slide" data-bs-touch="false">
                <div class="carousel-inner">
                  <div class="carousel-item active c-item">
                    <img src="{{ peliculas.3.imagenes_adicionales.0 }}" class="d-block w-100 c-img" alt="...">
                  </div>
                  <div class="carousel-item c-item">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                  <div class="carousel-item c-item">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                </div>
              </div>
            </div>

            <!-- !Carrusel pelicula top 2 -->

            <div class="columna7">
              <div id="Carrusel5" class="carousel slide" data-bs-touch="false">
                <div class="carousel-inner">
                  <div class="carousel-item active c-item3">
                    <img src="{{ peliculas.1.imagenes_adicionales.0 }}" class="d-block w-100 c-img" alt="...">
                    <div class="carousel-caption">
                      <h5>Third slide label</h5>
                    </div>
                  </div>
                  <div class="carousel-item c-item3">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                  <div class="carousel-item c-item3">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                </div>
              </div>
            </div>

            <!-- !Carrusel pelicula top 1 -->

            <div class="columna9">
              <div id="Carrusel7" class="carousel slide" data-bs-touch="false">
                <div class="carousel-inner">
                  <div class="carousel-item active c-item3">
                    <img src="{{ peliculas.0.imagenes_adicionales.0 }}" class="d-block w-100 c-img" alt="...">
                    <div class="carousel-caption">
                      <h5>{{peliculas.0.title}}</h5>
                    </div>
                  </div>
                  <div class="carousel-item c-item3">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                  <div class="carousel-item c-item3">
                    <img src="" class="d-block w-100 c-img" alt="...">
                  </div>
                </div>
              </div>
            </div>
        </header>
   </section>
   <!-- /* !_--__--__--__--__--__--__--__--__--_End Grid _--__--__--__--__--__--__--__--__--__--_ */ -->

    <main>

        <h1 class="titulo-pelis" style="color: white; padding: 5px;">PELICULAS POPULARES 游땙</h1>

        <section class="seccion_contenido">
            <div class="contenedor_contenidos">
                {% for pelicula in peliculas %}
                  <a href="{% url 'detalles_pelicula' pelicula.id %}">
                    <article> 
                      <div class="poster_pelicula">
                        <img src="{{ pelicula.imagen_url }}" alt="Poster de la pel칤cula">
                      </div>

                      <div class="imagen_vermas">
                        <img src="/static/img/Lupa.png" alt="VER M츼S">
                      </div>
                    </article> 
                  </a> 
                {% endfor %}               
            </div>

            <div class="botones_ar">
              <button class="btn btn-light" onclick="irA('home', -1)">Retroceder</button>
              <button class="btn btn-light" onclick="irA('home', 1)">Avanzar</button>
            </div>
        </section>      
        <script>
            function irA(baseURL, incremento) {
                // Obtener el n칰mero actual de la URL
                var numeroActual = window.location.pathname.split('/')[2] || 1;
                
                // Calcular el nuevo n칰mero
                var nuevoNumero = parseInt(numeroActual) + incremento;
                
                // Construir la nueva URL
                var nuevaURL = '/' + baseURL + '/' + nuevoNumero;

                // Redirigir a la nueva URL
                window.location.href = nuevaURL;
            }
        </script>

        <h1 class="titulo-pelis" style="color: white;">SERIES POPULARES 游닠</h1>

        <section class="seccion_contenido">
            <div class="contenedor_contenidos">
              {% for serie in series %}
              <a href="{% url 'detalles_serie' serie.id %}">
                <article>   
                    <div class="poster_pelicula">
                      <img src="{{ serie.imagen_url }}" alt="Poster de la serie">
                    </div>
                    <div class="imagen_vermas">
                      <img src="/static/img/Lupa.png" alt="Esta democracia si sirve">
                    </div>
                </article>
              </a>
              {% endfor %}   
            </div>

            <div class="botones_ar">
              <button class="btn btn-light" onclick="irA('home', -1)">Retroceder</button>
              <button class="btn btn-light" onclick="irA('home', 1)">Avanzar</button>
            </div>
        </section>
        
          <script>
            function irA(baseURL, incremento) {
                // Obtener el n칰mero actual de la URL
                var numeroActual = window.location.pathname.split('/')[2] || 1;
                
                // Calcular el nuevo n칰mero
                var nuevoNumero = parseInt(numeroActual) + incremento;
    
                // Asegurarse de que el nuevo n칰mero no sea menor que 1
                nuevoNumero = Math.max(nuevoNumero, 1);
                
                // Construir la nueva URL
                var nuevaURL = '/' + baseURL + '/' + nuevoNumero;
    
                // Redirigir a la nueva URL
                window.location.href = nuevaURL;
            }
        </script>

    </main>

</body>
</html>


{% endblock %}


